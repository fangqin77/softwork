import{d as m,r as i,j as g,o as b,c as o,a as s,k as f,l as p,v as y,m as C,b as k,F as w,h as L,s as V,i as c,t as d,_ as x}from"./index-aoWYAbzc.js";const S={class:"clubs-page"},B={class:"page-header"},M={class:"search-filter"},N={key:0,class:"loading"},$={key:1,class:"clubs-grid"},D=["onClick"],F={class:"club-logo"},U=["src","alt"],j={class:"club-info"},q={class:"category"},E={class:"intro"},I={class:"club-stats"},Q={class:"contact"},T={key:2,class:"no-results"},z=m({__name:"Clubs",setup(A){const u=i([]),l=i(!0),n=i(""),r=i(""),v=g(()=>u.value.filter(a=>{const e=a.name.toLowerCase().includes(n.value.toLowerCase())||a.intro.toLowerCase().includes(n.value.toLowerCase()),t=!r.value||a.category===r.value;return e&&t})),_=a=>({academic:"学术类",art:"文艺类",sports:"体育类",public_welfare:"公益类",other:"其他"})[a]||a,h=async()=>{try{l.value=!0;const{data:a,error:e}=await V.from("clubs").select("*").eq("status","active").order("created_at",{ascending:!1});if(e)throw e;u.value=a||[]}catch(a){console.error("获取社团列表失败:",a)}finally{l.value=!1}};return b(()=>{h()}),(a,e)=>(c(),o("div",S,[s("div",B,[e[3]||(e[3]=s("h1",null,"社团列表",-1)),s("div",M,[p(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>n.value=t),type:"text",placeholder:"搜索社团...",class:"search-input"},null,512),[[y,n.value]]),p(s("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t),class:"category-select"},[...e[2]||(e[2]=[k('<option value="" data-v-897ccacb>全部分类</option><option value="academic" data-v-897ccacb>学术类</option><option value="art" data-v-897ccacb>文艺类</option><option value="sports" data-v-897ccacb>体育类</option><option value="public_welfare" data-v-897ccacb>公益类</option><option value="other" data-v-897ccacb>其他</option>',6)])],512),[[C,r.value]])])]),l.value?(c(),o("div",N,"加载中...")):(c(),o("div",$,[(c(!0),o(w,null,L(v.value,t=>(c(),o("div",{key:t.id,class:"club-card",onClick:G=>a.$router.push(`/clubs/${t.id}`)},[s("div",F,[s("img",{src:t.logo_url,alt:t.name},null,8,U)]),s("div",j,[s("h3",null,d(t.name),1),s("p",q,d(_(t.category)),1),s("p",E,d(t.intro),1),s("div",I,[s("span",Q,d(t.contact),1)])])],8,D))),128))])),!l.value&&v.value.length===0?(c(),o("div",T," 暂无社团数据 ")):f("",!0)]))}}),J=x(z,[["__scopeId","data-v-897ccacb"]]);export{J as default};
