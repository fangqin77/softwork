import{d as b,n as w,r as n,B as y,c as i,a as e,z as k,k as x,l as d,v as u,t as p,f as m,e as V,w as h,g as B,y as C,i as c,_ as N}from"./index-aoWYAbzc.js";const S={class:"login"},L={class:"login-container"},U={class:"login-card"},q={class:"form-group"},D={class:"form-group"},M={key:0,class:"error-message"},T=["disabled"],z={class:"login-footer"},E=b({__name:"Login",setup(I){const f=C(),v=w(),a=n(!1),t=n(""),o=y({email:"",password:""}),_=async()=>{try{a.value=!0,t.value="";const l=await v.login(o.email,o.password);l.success?f.push("/"):t.value=l.error||"登录失败"}catch{t.value="登录失败，请检查网络连接"}finally{a.value=!1}};return(l,s)=>{const g=B("router-link");return c(),i("div",S,[e("div",L,[e("div",U,[s[6]||(s[6]=e("h2",null,"登录",-1)),e("form",{onSubmit:k(_,["prevent"]),class:"login-form"},[e("div",q,[s[2]||(s[2]=e("label",{for:"email",class:"form-label"},"邮箱",-1)),d(e("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=r=>o.email=r),type:"email",class:"form-input",placeholder:"请输入邮箱",required:""},null,512),[[u,o.email]])]),e("div",D,[s[3]||(s[3]=e("label",{for:"password",class:"form-label"},"密码",-1)),d(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=r=>o.password=r),type:"password",class:"form-input",placeholder:"请输入密码",required:""},null,512),[[u,o.password]])]),t.value?(c(),i("div",M,p(t.value),1)):x("",!0),e("button",{type:"submit",class:"btn btn-primary login-btn",disabled:a.value},p(a.value?"登录中...":"登录"),9,T)],32),e("div",z,[e("p",null,[s[5]||(s[5]=m("还没有账号？",-1)),V(g,{to:"/register"},{default:h(()=>[...s[4]||(s[4]=[m("立即注册",-1)])]),_:1})])])])])])}}}),j=N(E,[["__scopeId","data-v-b91965a9"]]);export{j as default};
